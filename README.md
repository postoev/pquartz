# Приложение для обмена мгновенными сообщениями "PQuartz".

*Примечание:* Тестирование работоспособности сервера проводилось для ОС Linux (Ubuntu 17.04) и  Windows 10, работоспособность для других ОС не гарантируется.

### Необходимые предусловия:
1. Установить интерпретатор Python 2 или Python 3.

2. Установить менеджер Python пакетов [pip](https://pypi.python.org/pypi/pip), в Python > 3.4 он идет по умолчанию.

3. Установить пакеты для работы с базой данных SQlite3:

**Для Ubuntu:**
```sh
sudo apt-get install sqlite3 libsqlite3-dev
```
4. Установить [Git клиент](https://git-scm.com/) для выкачивания репозитория с кодом.

5. Склонировать репозитория в желаемую директорию и переместиться в ветку mvp, выполнив команду в командной строке Git Bash:
```git
git clone https://github.com/postoev/pquartz.git 
cd pquartz
git checkout mvp
```

### Порядок установки и запуска сервера сообщений:

1. Зайти в директорию репозитория (*см. предыдущий пункт*).

2. Выполнить установку необходимых зависимостей из файла requirements:

**Для Python <= 3.4:**
```sh
pip install -r requirements.txt --user
```
**Для Python > 3.4:**
```sh
python3 -m pip install -r requirements.txt --user
```
3. В репозитории в файле config.py указать желаемый путь к файлу базы данных (SQLALCHEMY_DATABASE_URI) в виде 'sqlite:///<directory>\\<another_directory>\\<...>\\<name_of_file>.db', а также адрес и порт HTTP сервера (SERVER_NAME). В качестве IP-адреса сервера рекоммендуется указывать ***locahost*** для локального подключения.

4. Выполнить из командной строки иницализацию таблиц базы данных:
```sh
python deploy.py
```

5. Убедиться в том, что по пути указанному в config.py (SQLALCHEMY_DATABASE_URI) создался файл базы данных. При желании можно убедиться в правильности схемы таблиц, открыв содержимое файла с помощью программы [SQliteBrowser](http://sqlitebrowser.org/).

6. Запустить из командной строки сервер:
```sh
python run.py
```

7. По выводимому логу убедиться, что сервер запущен удачно, и не закрывая командной строки в барузереперейти по адресу, указанному в config.py (SERVER_NAME).

8. Убедиться, что в браузере отображается окно логина в мессенджер "PQuartz".
